
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Case Reader Object &#8212; OpenMDAO 2.8.0 Beta documentation</title>
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/OpenMDAO_Favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Accessing Recorded Data from Case Objects" href="reading_data.html" />
    <link rel="prev" title="Case Recording" href="saving_data.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reading_data.html" title="Accessing Recorded Data from Case Objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="saving_data.html" title="Case Recording"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenMDAO 2.8.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Features</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Recording Data</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/OpenMDAO_Logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_guide/index.html">Basic User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_guide/index.html">Advanced User Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theory_manual/index.html">Theory Manual</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../other/om_command.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/citing.html">How to Cite OpenMDAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/repo_guide/index.html">Building a Tool on Top of OpenMDAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/api_translation.html">Upgrading from OpenMDAO 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/file_wrap.html">File Wrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_srcdocs/index.html">Source Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_docs/index.html">Developer Docs (if you’re going to contribute code)</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Search OpenMDAO</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="checkbox" name="search_source" /> Include Source Docs
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="case-reader-object">
<span id="case-reader"></span><h1>Case Reader Object<a class="headerlink" href="#case-reader-object" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../../_srcdocs/packages/recorders/case_reader.html#openmdao.recorders.case_reader.CaseReader" title="openmdao.recorders.case_reader.CaseReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaseRecorder</span></code></a> object is provided to read case recordings no
matter what case recorder was used.
Currently, OpenMDAO only supports the <a class="reference internal" href="../../_srcdocs/packages/recorders/sqlite_reader.html#openmdao.recorders.sqlite_reader.SqliteCaseReader" title="openmdao.recorders.sqlite_reader.SqliteCaseReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">SqliteCaseReader</span></code></a> case
recorder. Therefore, all the examples will
make use of this recorder. OpenMDAO will support other case recorders in the future.</p>
<dl class="method">
<dt>
<code class="descclassname">SqliteCaseReader.</code><code class="descname">__init__</code><span class="sig-paren">(</span><em>filename</em>, <em>pre_load=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/sqlite_reader.html#SqliteCaseReader.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>filename</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The path to the filename containing the recorded data.</p>
</dd>
<dt><strong>pre_load</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If True, load all the data into memory during initialization.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="determining-what-sources-and-variables-were-recorded">
<h2>Determining What Sources and Variables Were Recorded<a class="headerlink" href="#determining-what-sources-and-variables-were-recorded" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">CaseReader</span></code> object provides methods to determine which objects in the original problem were responsible
for recording cases and what variables they recorded.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_sources</span></code> method provides a
list of the names of objects that are the recording sources of the recorded data in the file.</p>
<dl class="method">
<dt>
<code class="descclassname">BaseCaseReader.</code><code class="descname">list_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/base_case_reader.html#BaseCaseReader.list_sources"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>List of all the different recording sources for which there is recorded data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>list</strong></dt>
<dd><p class="first last">One or more of: <cite>problem</cite>, <cite>driver</cite>, <cite>&lt;component hierarchy location&gt;</cite>,
<cite>&lt;solver hierarchy location&gt;</cite></p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The complementary <code class="code docutils literal notranslate"><span class="pre">list_source_vars</span></code> method will provide a dictionary of the input and output variables recorded
by each of those sources.</p>
<dl class="method">
<dt>
<code class="descclassname">BaseCaseReader.</code><code class="descname">list_source_vars</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/base_case_reader.html#BaseCaseReader.list_source_vars"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>List of all inputs and outputs recorded by the specified source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>source</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘problem’, ‘driver’, <cite>&lt;component hierarchy location&gt;</cite>,</span></dt>
<dd><p class="first last"><cite>&lt;solver hierarchy location&gt;</cite>}
Identifies the source for which to return information.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>dict</strong></dt>
<dd><p class="first last">{‘inputs’:[list of keys], ‘outputs’:[list of keys]}. Does not recurse.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Here is an example of their usage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar_feature</span> <span class="kn">import</span> <span class="n">SellarMDA</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># define Sellar MDA problem</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">SellarMDA</span><span class="p">())</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span>
                          <span class="n">upper</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;obj&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con1&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con2&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;SLSQP&#39;</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># add recorder to the driver, model and solver</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">SqliteRecorder</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">nonlinear_solver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>

<span class="c1"># run the problem</span>
<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="c1"># examine cases to see what was recorded</span>
<span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">cr</span><span class="o">.</span><span class="n">list_sources</span><span class="p">()))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[&#x27;driver&#x27;, &#x27;root&#x27;, &#x27;root.nonlinear_solver&#x27;]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">driver_vars</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_source_vars</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">((</span><span class="s1">&#39;inputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">driver_vars</span><span class="p">[</span><span class="s1">&#39;inputs&#39;</span><span class="p">]),</span> <span class="s1">&#39;outputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">driver_vars</span><span class="p">[</span><span class="s1">&#39;outputs&#39;</span><span class="p">])))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>(&#x27;inputs:&#x27;, [], &#x27;outputs:&#x27;, [&#x27;con1&#x27;, &#x27;con2&#x27;, &#x27;obj&#x27;, &#x27;x&#x27;, &#x27;z&#x27;])</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model_vars</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_source_vars</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">((</span><span class="s1">&#39;inputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model_vars</span><span class="p">[</span><span class="s1">&#39;inputs&#39;</span><span class="p">]),</span> <span class="s1">&#39;outputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model_vars</span><span class="p">[</span><span class="s1">&#39;outputs&#39;</span><span class="p">])))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>(&#x27;inputs:&#x27;, [&#x27;x&#x27;, &#x27;y1&#x27;, &#x27;y2&#x27;, &#x27;z&#x27;], &#x27;outputs:&#x27;, [&#x27;con1&#x27;, &#x27;con2&#x27;, &#x27;obj&#x27;, &#x27;x&#x27;, &#x27;y1&#x27;, &#x27;y2&#x27;, &#x27;z&#x27;])</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">solver_vars</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_source_vars</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">((</span><span class="s1">&#39;inputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">solver_vars</span><span class="p">[</span><span class="s1">&#39;inputs&#39;</span><span class="p">]),</span> <span class="s1">&#39;outputs:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">solver_vars</span><span class="p">[</span><span class="s1">&#39;outputs&#39;</span><span class="p">])))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>(&#x27;inputs:&#x27;, [&#x27;x&#x27;, &#x27;y1&#x27;, &#x27;y2&#x27;, &#x27;z&#x27;], &#x27;outputs:&#x27;, [&#x27;con1&#x27;, &#x27;con2&#x27;, &#x27;obj&#x27;, &#x27;x&#x27;, &#x27;y1&#x27;, &#x27;y2&#x27;, &#x27;z&#x27;])</pre></div></div></div>
<div class="section" id="case-names">
<h2>Case Names<a class="headerlink" href="#case-names" title="Permalink to this headline">¶</a></h2>
<p>A <code class="code docutils literal notranslate"><span class="pre">CaseReader</span></code> object contains a collection of <a class="reference internal" href="../../_srcdocs/packages/recorders/case.html#openmdao.recorders.case.Case" title="openmdao.recorders.case.Case"><code class="xref py py-class docutils literal notranslate"><span class="pre">Case</span></code></a>
objects, one for each individual recording of an object
which can be anyone of these objects: driver, problem, component, or solver.</p>
<p><code class="code docutils literal notranslate"><span class="pre">Case</span></code> objects are uniquely identified in a case recorder file by their case names. A Case name is a string.
As an example, here is a case name:</p>
<blockquote>
<div>‘rank0:ScipyOptimize_SLSQP|1|root._solve_nonlinear|1’</div></blockquote>
<p>The first part of the case name indicates which rank or process that the case was recorded from. The remainder of the
case name shows the hierarchical path to the object that was recorded along with the iteration counts for each object
along the path. It follows a pattern of repeated pairs of</p>
<blockquote>
<div><ul class="simple">
<li>object name ( problem, driver, system, or solver )</li>
<li>iteration count</li>
</ul>
</div></blockquote>
<p>These are separated by the <code class="code docutils literal notranslate"><span class="pre">|</span></code> character.</p>
<p>So in the given example, the case is:</p>
<blockquote>
<div><ul class="simple">
<li>from rank 0</li>
<li>the first iteration of the driver, <cite>ScipyOptimize_SLSQP</cite></li>
<li>the first execution of the <cite>root</cite> system which is the top-level model</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="getting-names-of-the-cases">
<h2>Getting Names of the Cases<a class="headerlink" href="#getting-names-of-the-cases" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_cases</span></code> method returns the names of the cases in the order in which
the cases were executed. You can optionally request cases only from a specific <code class="code docutils literal notranslate"><span class="pre">source</span></code>.</p>
<dl class="method">
<dt>
<code class="descclassname">BaseCaseReader.</code><code class="descname">list_cases</code><span class="sig-paren">(</span><em>source=None</em>, <em>recurse=True</em>, <em>flat=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/base_case_reader.html#BaseCaseReader.list_cases"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterate over Driver, Solver and System cases in order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>source</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘problem’, ‘driver’, component pathname, solver pathname, case_name}</span></dt>
<dd><p class="first last">If not None, only cases originating from the specified source or case are returned.</p>
</dd>
<dt><strong>recurse</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True, will enable iterating over all successors in case hierarchy.</p>
</dd>
<dt><strong>flat</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If False and there are child cases, then a nested ordered dictionary
is returned rather than an iterator.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>iterator or dict</strong></dt>
<dd><p class="first last">An iterator or a nested dictionary of identified cases.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p id="list-cases-args">There are two optional arguments to the <code class="code docutils literal notranslate"><span class="pre">list_cases</span></code> method that effect what is returned.</p>
<blockquote>
<div><ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">recurse</span></code>: causes the returned value to include child cases.</li>
<li><code class="code docutils literal notranslate"><span class="pre">flat</span></code>: works in conjunction with the <code class="code docutils literal notranslate"><span class="pre">recurse</span></code> argument to determine if the returned
results are in the form of a list or nested dict. If recurse=True, flat=False, and there are child cases, then
the returned value is a nested ordered dict. Otherwise, it is a list.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="getting-access-to-cases-using-get-cases-method">
<h2>Getting Access to Cases Using get_cases Method<a class="headerlink" href="#getting-access-to-cases-using-get-cases-method" title="Permalink to this headline">¶</a></h2>
<p>Getting information from the cases is a two-step process. First, you need to get access to the Case object and then
you can call a variety of methods on the Case object to get values from it. The second step is described on the
<a class="reference internal" href="reading_data.html#reading-case-data"><span class="std std-ref">Accessing Recorded Data</span></a> page.</p>
<p>There are two methods used to get access to <code class="code docutils literal notranslate"><span class="pre">Cases</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">get_cases</span></code></li>
<li><code class="code docutils literal notranslate"><span class="pre">get_case</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id1">
<h2>Getting Access to Cases Using get_cases Method<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">get_cases</span></code> method provides a quick and easy way to iterate over all the cases.</p>
<dl class="method">
<dt>
<code class="descclassname">BaseCaseReader.</code><code class="descname">get_cases</code><span class="sig-paren">(</span><em>source</em>, <em>recurse=True</em>, <em>flat=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/base_case_reader.html#BaseCaseReader.get_cases"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterate over the cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>source</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘problem’, ‘driver’, component pathname, solver pathname, iteration_coordinate}</span></dt>
<dd><p class="first last">Identifies which cases to return.</p>
</dd>
<dt><strong>recurse</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True, will enable iterating over all successors in case hierarchy</p>
</dd>
<dt><strong>flat</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If False and there are child cases, then a nested ordered dictionary
is returned rather than an iterator.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>list or dict</strong></dt>
<dd><p class="first last">The cases identified by source</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The method <code class="code docutils literal notranslate"><span class="pre">get_cases</span></code> is similar to the <code class="code docutils literal notranslate"><span class="pre">list_cases</span></code> method in that it has the two optional arguments
<code class="code docutils literal notranslate"><span class="pre">recurse</span></code> and <code class="code docutils literal notranslate"><span class="pre">flat</span></code> to control what is returned and the data structure returned. See
<a class="reference internal" href="#list-cases-args"><span class="std std-ref">explanation of the list_cases args</span></a>.</p>
<p>Here is an example of its usage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar_feature</span> <span class="kn">import</span> <span class="n">SellarMDA</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">SellarMDA</span><span class="p">())</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span>
                          <span class="n">upper</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;obj&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con1&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con2&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;SLSQP&#39;</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">SqliteRecorder</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">))</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="n">cases</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">get_cases</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cases</span><span class="p">))</span>

<span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>Optimization terminated successfully.    (Exit mode 0)
            Current function value: 3.183393951806944
            Iterations: 12
            Function evaluations: 13
            Gradient evaluations: 12
Optimization Complete
-----------------------------------
14
driver rank0:ScipyOptimize_SLSQP|0 {&#x27;z&#x27;: array([5., 2.]), &#x27;x&#x27;: array([1.]), &#x27;obj&#x27;: array([28.58830817]), &#x27;con2&#x27;: array([-11.94151185]), &#x27;con1&#x27;: array([-22.42830237])}
driver rank0:ScipyOptimize_SLSQP|1 {&#x27;z&#x27;: array([5., 2.]), &#x27;x&#x27;: array([1.]), &#x27;obj&#x27;: array([28.58830817]), &#x27;con2&#x27;: array([-11.94151185]), &#x27;con1&#x27;: array([-22.42830237])}
driver rank0:ScipyOptimize_SLSQP|2 {&#x27;z&#x27;: array([2.97739435, 0.79774515]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([9.12937206]), &#x27;con2&#x27;: array([-17.33862636]), &#x27;con1&#x27;: array([-5.17034752])}
driver rank0:ScipyOptimize_SLSQP|3 {&#x27;z&#x27;: array([2.24311210e+00, 4.48974191e-13]), &#x27;x&#x27;: array([1.24381997e-14]), &#x27;obj&#x27;: array([4.18806381]), &#x27;con2&#x27;: array([-19.71377581]), &#x27;con1&#x27;: array([-1.01430704])}
driver rank0:ScipyOptimize_SLSQP|4 {&#x27;z&#x27;: array([2.01671202e+00, 6.16526663e-13]), &#x27;x&#x27;: array([0.0014523]), &#x27;obj&#x27;: array([3.32344841]), &#x27;con2&#x27;: array([-20.16619715]), &#x27;con1&#x27;: array([-0.14181909])}
driver rank0:ScipyOptimize_SLSQP|5 {&#x27;z&#x27;: array([1.98191105, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.19840191]), &#x27;con2&#x27;: array([-20.2361779]), &#x27;con1&#x27;: array([-0.015207])}
driver rank0:ScipyOptimize_SLSQP|6 {&#x27;z&#x27;: array([1.97807463e+00, 1.56769835e-15]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18492296]), &#x27;con2&#x27;: array([-20.24385074]), &#x27;con1&#x27;: array([-0.00154939])}
driver rank0:ScipyOptimize_SLSQP|7 {&#x27;z&#x27;: array([1.97768298e+00, 1.27517757e-14]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18354868]), &#x27;con2&#x27;: array([-20.24463403]), &#x27;con1&#x27;: array([-0.00015679])}
driver rank0:ScipyOptimize_SLSQP|8 {&#x27;z&#x27;: array([1.97764334e+00, 1.02233532e-14]), &#x27;x&#x27;: array([3.24738796e-15]), &#x27;obj&#x27;: array([3.1834096]), &#x27;con2&#x27;: array([-20.24471331]), &#x27;con1&#x27;: array([-1.58610711e-05])}
driver rank0:ScipyOptimize_SLSQP|9 {&#x27;z&#x27;: array([1.97763933, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339553]), &#x27;con2&#x27;: array([-20.24472133]), &#x27;con1&#x27;: array([-1.60409322e-06])}
driver rank0:ScipyOptimize_SLSQP|10 {&#x27;z&#x27;: array([1.97763893, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339411]), &#x27;con2&#x27;: array([-20.24472214]), &#x27;con1&#x27;: array([-1.63976894e-07])}
driver rank0:ScipyOptimize_SLSQP|11 {&#x27;z&#x27;: array([1.97763889e+00, 2.76939916e-14]), &#x27;x&#x27;: array([8.82006605e-16]), &#x27;obj&#x27;: array([3.18339397]), &#x27;con2&#x27;: array([-20.24472222]), &#x27;con1&#x27;: array([-1.65888538e-08])}
driver rank0:ScipyOptimize_SLSQP|12 {&#x27;z&#x27;: array([1.97763888e+00, 3.20921654e-14]), &#x27;x&#x27;: array([2.40547256e-15]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;con1&#x27;: array([-1.67487757e-09])}
driver rank0:ScipyOptimize_SLSQP|13 {&#x27;z&#x27;: array([1.97763888e+00, 1.25035459e-15]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;con1&#x27;: array([-1.68550507e-10])}
</pre></div></div></div>
<div class="section" id="getting-access-to-the-case-values-using-get-case-method">
<h2>Getting Access to the Case Values Using get_case Method<a class="headerlink" href="#getting-access-to-the-case-values-using-get-case-method" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">get_case</span></code> method returns a <code class="code docutils literal notranslate"><span class="pre">Case</span></code> object given a case name.</p>
<dl class="method">
<dt>
<code class="descclassname">BaseCaseReader.</code><code class="descname">get_case</code><span class="sig-paren">(</span><em>case_id</em>, <em>recurse=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/recorders/base_case_reader.html#BaseCaseReader.get_case"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get case identified by case_id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>case_id</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or int</span></dt>
<dd><p class="first last">The unique identifier of the case to return or an index into all cases.</p>
</dd>
<dt><strong>recurse</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True, will return all successors to the case as well.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>dict</strong></dt>
<dd><p class="first last">The case identified by case_id</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>If after getting the list of case names using the <code class="code docutils literal notranslate"><span class="pre">list_cases</span></code> method, you determine the case you want information
from, you can use the <code class="code docutils literal notranslate"><span class="pre">get_case</span></code> method to get that case.</p>
<p>This code snippet shows how to get the first case.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>
<span class="n">case_names</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_cases</span><span class="p">()</span>
<span class="n">case</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">get_case</span><span class="p">(</span><span class="n">case_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>You could also use the feature of <code class="code docutils literal notranslate"><span class="pre">get_case</span></code> where you provide an index into all the cases. This snippet shows
how to get the first case using an index.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>
<span class="n">case</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">get_case</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, looping over all the case names and getting access to the cases is shown in this example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar_feature</span> <span class="kn">import</span> <span class="n">SellarMDA</span>

<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">SellarMDA</span><span class="p">())</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span>
                          <span class="n">upper</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;obj&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con1&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con2&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;SLSQP&#39;</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">)</span>

<span class="n">driver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">SqliteRecorder</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">))</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="n">case_names</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_cases</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">case_names</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">case_names</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">case_names</span><span class="p">:</span>
    <span class="n">case</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">get_case</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>Optimization terminated successfully.    (Exit mode 0)
            Current function value: 3.183393951806944
            Iterations: 12
            Function evaluations: 13
            Gradient evaluations: 12
Optimization Complete
-----------------------------------
14
[&#x27;rank0:ScipyOptimize_SLSQP|0&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|1&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|2&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|3&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|4&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|5&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|6&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|7&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|8&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|9&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|10&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|11&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|12&#x27;, &#x27;rank0:ScipyOptimize_SLSQP|13&#x27;]

driver rank0:ScipyOptimize_SLSQP|0 {&#x27;z&#x27;: array([5., 2.]), &#x27;x&#x27;: array([1.]), &#x27;obj&#x27;: array([28.58830817]), &#x27;con2&#x27;: array([-11.94151185]), &#x27;con1&#x27;: array([-22.42830237])}
driver rank0:ScipyOptimize_SLSQP|1 {&#x27;z&#x27;: array([5., 2.]), &#x27;x&#x27;: array([1.]), &#x27;obj&#x27;: array([28.58830817]), &#x27;con2&#x27;: array([-11.94151185]), &#x27;con1&#x27;: array([-22.42830237])}
driver rank0:ScipyOptimize_SLSQP|2 {&#x27;z&#x27;: array([2.97739435, 0.79774515]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([9.12937206]), &#x27;con2&#x27;: array([-17.33862636]), &#x27;con1&#x27;: array([-5.17034752])}
driver rank0:ScipyOptimize_SLSQP|3 {&#x27;z&#x27;: array([2.24311210e+00, 4.48974191e-13]), &#x27;x&#x27;: array([1.24381997e-14]), &#x27;obj&#x27;: array([4.18806381]), &#x27;con2&#x27;: array([-19.71377581]), &#x27;con1&#x27;: array([-1.01430704])}
driver rank0:ScipyOptimize_SLSQP|4 {&#x27;z&#x27;: array([2.01671202e+00, 6.16526663e-13]), &#x27;x&#x27;: array([0.0014523]), &#x27;obj&#x27;: array([3.32344841]), &#x27;con2&#x27;: array([-20.16619715]), &#x27;con1&#x27;: array([-0.14181909])}
driver rank0:ScipyOptimize_SLSQP|5 {&#x27;z&#x27;: array([1.98191105, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.19840191]), &#x27;con2&#x27;: array([-20.2361779]), &#x27;con1&#x27;: array([-0.015207])}
driver rank0:ScipyOptimize_SLSQP|6 {&#x27;z&#x27;: array([1.97807463e+00, 1.56769835e-15]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18492296]), &#x27;con2&#x27;: array([-20.24385074]), &#x27;con1&#x27;: array([-0.00154939])}
driver rank0:ScipyOptimize_SLSQP|7 {&#x27;z&#x27;: array([1.97768298e+00, 1.27517757e-14]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18354868]), &#x27;con2&#x27;: array([-20.24463403]), &#x27;con1&#x27;: array([-0.00015679])}
driver rank0:ScipyOptimize_SLSQP|8 {&#x27;z&#x27;: array([1.97764334e+00, 1.02233532e-14]), &#x27;x&#x27;: array([3.24738796e-15]), &#x27;obj&#x27;: array([3.1834096]), &#x27;con2&#x27;: array([-20.24471331]), &#x27;con1&#x27;: array([-1.58610711e-05])}
driver rank0:ScipyOptimize_SLSQP|9 {&#x27;z&#x27;: array([1.97763933, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339553]), &#x27;con2&#x27;: array([-20.24472133]), &#x27;con1&#x27;: array([-1.60409322e-06])}
driver rank0:ScipyOptimize_SLSQP|10 {&#x27;z&#x27;: array([1.97763893, 0.        ]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339411]), &#x27;con2&#x27;: array([-20.24472214]), &#x27;con1&#x27;: array([-1.63976894e-07])}
driver rank0:ScipyOptimize_SLSQP|11 {&#x27;z&#x27;: array([1.97763889e+00, 2.76939916e-14]), &#x27;x&#x27;: array([8.82006605e-16]), &#x27;obj&#x27;: array([3.18339397]), &#x27;con2&#x27;: array([-20.24472222]), &#x27;con1&#x27;: array([-1.65888538e-08])}
driver rank0:ScipyOptimize_SLSQP|12 {&#x27;z&#x27;: array([1.97763888e+00, 3.20921654e-14]), &#x27;x&#x27;: array([2.40547256e-15]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;con1&#x27;: array([-1.67487757e-09])}
driver rank0:ScipyOptimize_SLSQP|13 {&#x27;z&#x27;: array([1.97763888e+00, 1.25035459e-15]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;con1&#x27;: array([-1.68550507e-10])}
</pre></div></div></div>
<div class="section" id="processing-a-nested-dictionary-of-its-child-cases">
<h2>Processing a Nested Dictionary of Its Child Cases<a class="headerlink" href="#processing-a-nested-dictionary-of-its-child-cases" title="Permalink to this headline">¶</a></h2>
<p>The following example demonstrates selecting a case from a case list and processing a nested
dictionary of its child cases.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar_feature</span> <span class="kn">import</span> <span class="n">SellarMDA</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># define Sellar MDA problem</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">SellarMDA</span><span class="p">())</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span>
                          <span class="n">upper</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;obj&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con1&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con2&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;SLSQP&#39;</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># add recorder to the driver, model and solver</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">SqliteRecorder</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">nonlinear_solver</span><span class="o">.</span><span class="n">add_recorder</span><span class="p">(</span><span class="n">recorder</span><span class="p">)</span>

<span class="c1"># run the problem</span>
<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="c1"># get the last driver case</span>
<span class="n">cr</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">CaseReader</span><span class="p">(</span><span class="s1">&#39;cases.sql&#39;</span><span class="p">)</span>

<span class="n">driver_cases</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">list_cases</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span><span class="p">)</span>
<span class="n">last_driver_case</span> <span class="o">=</span> <span class="n">driver_cases</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># get a recursive dict of all child cases of the last driver case</span>
<span class="n">cases</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">get_cases</span><span class="p">(</span><span class="n">last_driver_case</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">flat</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># access the last driver case and it&#39;s children</span>
<span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">child_case</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">[</span><span class="n">case</span><span class="p">]:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">child_case</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">grandchild</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">[</span><span class="n">case</span><span class="p">][</span><span class="n">child_case</span><span class="p">]:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">grandchild</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>driver rank0:ScipyOptimize_SLSQP|13 {&#x27;z&#x27;: array([1.97763888e+00, 1.25035459e-15]), &#x27;x&#x27;: array([0.]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;con1&#x27;: array([-1.68550507e-10])}
root rank0:ScipyOptimize_SLSQP|13|root._solve_nonlinear|13 {&#x27;y1&#x27;: array([3.16]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con1&#x27;: array([-1.68550507e-10]), &#x27;z&#x27;: array([1.97763888e+00, 1.25035459e-15]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;y2&#x27;: array([3.75527777]), &#x27;x&#x27;: array([0.])}
root.nonlinear_solver rank0:ScipyOptimize_SLSQP|13|root._solve_nonlinear|13|NLRunOnce|0 {&#x27;y1&#x27;: array([3.16]), &#x27;obj&#x27;: array([3.18339395]), &#x27;con1&#x27;: array([-1.68550507e-10]), &#x27;z&#x27;: array([1.97763888e+00, 1.25035459e-15]), &#x27;con2&#x27;: array([-20.24472223]), &#x27;y2&#x27;: array([3.75527777]), &#x27;x&#x27;: array([0.])}
</pre></div></div></div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reading_data.html" title="Accessing Recorded Data from Case Objects"
             >next</a> |</li>
        <li class="right" >
          <a href="saving_data.html" title="Case Recording"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenMDAO 2.8.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Features</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Recording Data</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, openmdao.org.
      Last updated on Aug 08, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>