
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Listing Variables &#8212; OpenMDAO 2.8.0 Beta documentation</title>
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/OpenMDAO_Favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Driver Debug Printing" href="debugging_drivers.html" />
    <link rel="prev" title="The Newton Solver Isn’t Converging" href="newton_solver_not_converging.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="debugging_drivers.html" title="Driver Debug Printing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="newton_solver_not_converging.html" title="The Newton Solver Isn’t Converging"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenMDAO 2.8.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Features</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Debugging</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/OpenMDAO_Logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_guide/index.html">Basic User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_guide/index.html">Advanced User Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theory_manual/index.html">Theory Manual</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../other/om_command.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/citing.html">How to Cite OpenMDAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/repo_guide/index.html">Building a Tool on Top of OpenMDAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/api_translation.html">Upgrading from OpenMDAO 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/file_wrap.html">File Wrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_srcdocs/index.html">Source Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_docs/index.html">Developer Docs (if you’re going to contribute code)</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Search OpenMDAO</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="checkbox" name="search_source" /> Include Source Docs
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="listing-variables">
<span id="id1"></span><h1>Listing Variables<a class="headerlink" href="#listing-variables" title="Permalink to this headline">¶</a></h1>
<p>When working with a model, it may sometimes be helpful to examine the input and
output variables. Several methods are provided for this purpose.</p>
<dl class="method">
<dt>
<code class="descclassname">System.</code><code class="descname">list_inputs</code><span class="sig-paren">(</span><em>values=True</em>, <em>prom_name=False</em>, <em>units=False</em>, <em>shape=False</em>, <em>hierarchical=True</em>, <em>print_arrays=False</em>, <em>tags=None</em>, <em>out_stream=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/core/system.html#System.list_inputs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return and optionally log a list of input names and other optional information.</p>
<p>If the model is parallel, only the local variables are returned to the process.
Also optionally logs the information to a user defined output stream. If the model is
parallel, the rank 0 process logs information about all variables across all processes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>values</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return input values. Default is True.</p>
</dd>
<dt><strong>prom_name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return the promoted name of the variable.
Default is False.</p>
</dd>
<dt><strong>units</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return units. Default is False.</p>
</dd>
<dt><strong>shape</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return the shape of the value. Default is False.</p>
</dd>
<dt><strong>hierarchical</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, human readable output shows variables in hierarchical format.</p>
</dd>
<dt><strong>print_arrays</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When False, in the columnar display, just display norm of any ndarrays with size &gt; 1.
The norm is surrounded by vertical bars to indicate that it is a norm.
When True, also display full values of the ndarray below the row. Format is affected
by the values set with numpy.set_printoptions
Default is False.</p>
</dd>
<dt><strong>tags</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or list of strs</span></dt>
<dd><p class="first last">User defined tags that can be used to filter what gets listed. Only inputs with the
given tags will be listed.
Default is None, which means there will be no filtering based on tags.</p>
</dd>
<dt><strong>out_stream</strong> <span class="classifier-delimiter">:</span> <span class="classifier">file-like object</span></dt>
<dd><p class="first last">Where to send human readable output. Default is sys.stdout.
Set to None to suppress.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>list</strong></dt>
<dd><p class="first last">list of input names and other optional information about those inputs</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descclassname">System.</code><code class="descname">list_outputs</code><span class="sig-paren">(</span><em>explicit=True</em>, <em>implicit=True</em>, <em>values=True</em>, <em>prom_name=False</em>, <em>residuals=False</em>, <em>residuals_tol=None</em>, <em>units=False</em>, <em>shape=False</em>, <em>bounds=False</em>, <em>scaling=False</em>, <em>hierarchical=True</em>, <em>print_arrays=False</em>, <em>tags=None</em>, <em>out_stream=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/core/system.html#System.list_outputs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return and optionally log a list of output names and other optional information.</p>
<p>If the model is parallel, only the local variables are returned to the process.
Also optionally logs the information to a user defined output stream. If the model is
parallel, the rank 0 process logs information about all variables across all processes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>explicit</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">include outputs from explicit components. Default is True.</p>
</dd>
<dt><strong>implicit</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">include outputs from implicit components. Default is True.</p>
</dd>
<dt><strong>values</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return output values. Default is True.</p>
</dd>
<dt><strong>prom_name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return the promoted name of the variable.
Default is False.</p>
</dd>
<dt><strong>residuals</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return residual values. Default is False.</p>
</dd>
<dt><strong>residuals_tol</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">If set, limits the output of list_outputs to only variables where
the norm of the resids array is greater than the given ‘residuals_tol’.
Default is None.</p>
</dd>
<dt><strong>units</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return units. Default is False.</p>
</dd>
<dt><strong>shape</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return the shape of the value. Default is False.</p>
</dd>
<dt><strong>bounds</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return bounds (lower and upper). Default is False.</p>
</dd>
<dt><strong>scaling</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, display/return scaling (ref, ref0, and res_ref). Default is False.</p>
</dd>
<dt><strong>hierarchical</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When True, human readable output shows variables in hierarchical format.</p>
</dd>
<dt><strong>print_arrays</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When False, in the columnar display, just display norm of any ndarrays with size &gt; 1.
The norm is surrounded by vertical bars to indicate that it is a norm.
When True, also display full values of the ndarray below the row. Format  is affected
by the values set with numpy.set_printoptions
Default is False.</p>
</dd>
<dt><strong>tags</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or list of strs</span></dt>
<dd><p class="first last">User defined tags that can be used to filter what gets listed. Only outputs with the
given tags will be listed.
Default is None, which means there will be no filtering based on tags.</p>
</dd>
<dt><strong>out_stream</strong> <span class="classifier-delimiter">:</span> <span class="classifier">file-like</span></dt>
<dd><p class="first last">Where to send human readable output. Default is sys.stdout.
Set to None to suppress.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>list</strong></dt>
<dd><p class="first last">list of output names and other optional information about those outputs</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>In the following example, we create a model consisting of two instances of
<code class="code docutils literal notranslate"><span class="pre">ImplicitComponent</span></code> and an <code class="code docutils literal notranslate"><span class="pre">IndepVarComp</span></code>.</p>
<p>The implicit components are both instances of <code class="code docutils literal notranslate"><span class="pre">QuadraticComp</span></code>, defined
as shown here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">QuadraticComp</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">ImplicitComponent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Simple Implicit Component representing a Quadratic Equation.</span>

<span class="sd">    R(a, b, c, x) = ax^2 + bx + c</span>

<span class="sd">    Solution via Quadratic Formula:</span>
<span class="sd">    x = (-b + sqrt(b^2 - 4ac)) / 2a</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tag_a&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tag_x&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="n">of</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">wrt</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply_nonlinear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">,</span> <span class="n">residuals</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
        <span class="n">residuals</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">solve_nonlinear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>These two components are placed in a <code class="code docutils literal notranslate"><span class="pre">Group</span></code> with inputs provided by
the <code class="code docutils literal notranslate"><span class="pre">IndepVarComp</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.core.tests.test_impl_comp</span> <span class="kn">import</span> <span class="n">QuadraticComp</span>

<span class="n">group</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Group</span><span class="p">()</span>

<span class="n">comp1</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;comp1&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">())</span>
<span class="n">comp1</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">comp1</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">comp1</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="n">sub</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;sub&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">Group</span><span class="p">())</span>
<span class="n">sub</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;comp2&#39;</span><span class="p">,</span> <span class="n">QuadraticComp</span><span class="p">())</span>
<span class="n">sub</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;comp3&#39;</span><span class="p">,</span> <span class="n">QuadraticComp</span><span class="p">())</span>

<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.a&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp2.a&#39;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.b&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp2.b&#39;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.c&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp2.c&#39;</span><span class="p">)</span>

<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.a&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp3.a&#39;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.b&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp3.b&#39;</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;comp1.c&#39;</span><span class="p">,</span> <span class="s1">&#39;sub.comp3.c&#39;</span><span class="p">)</span>

<span class="k">global</span> <span class="n">prob</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

<span class="n">prob</span><span class="p">[</span><span class="s1">&#39;comp1.a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.</span>
<span class="n">prob</span><span class="p">[</span><span class="s1">&#39;comp1.b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.</span>
<span class="n">prob</span><span class="p">[</span><span class="s1">&#39;comp1.c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_model</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="list-inputs">
<h3><em>List Inputs</em><a class="headerlink" href="#list-inputs" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_inputs()</span></code> method on a <code class="code docutils literal notranslate"><span class="pre">System</span></code> will display all the inputs
in execution order with their values. By default, the variable name and variable value
are displayed. Also by default, the variables are displayed as part of the System hierarchy.
Finally, the default is to display this information to <code class="code docutils literal notranslate"><span class="pre">'stdout'</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">()</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>6 Input(s) in &#x27;model&#x27;
---------------------

varname    value
---------  -----
top
  sub
    comp2
      a    [1.] 
      b    [-4.]
      c    [3.] 
    comp3
      a    [1.] 
      b    [-4.]
      c    [3.]</pre></div></div></div>
<div class="section" id="list-outputs">
<span id="id2"></span><h3><em>List Outputs</em><a class="headerlink" href="#list-outputs" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_outputs()</span></code> method will display all the outputs in execution order.
There are many options to this method, which we will explore below. For this example,
we will only display the value in addition to the name of the output variable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">()</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value
-------  -----
top
  comp1
    a    [1.] 
    b    [-4.]
    c    [3.] 


2 Implicit Output(s) in &#x27;model&#x27;
-------------------------------

varname    value
---------  -----
top
  sub
    comp2
      x    [3.] 
    comp3
      x    [3.]</pre></div></div></div>
<div class="section" id="list-implicit-or-explicit-outputs">
<h3><em>List Implicit or Explicit Outputs</em><a class="headerlink" href="#list-implicit-or-explicit-outputs" title="Permalink to this headline">¶</a></h3>
<p>Note that explicit and implicit outputs are listed separately.  If you are
only interested in seeing one or the other, you can exclude the ones you do
not wish to see via the <code class="code docutils literal notranslate"><span class="pre">implicit</span></code> and <code class="code docutils literal notranslate"><span class="pre">explicit</span></code> arguments.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value
-------  -----
top
  comp1
    a    [1.] 
    b    [-4.]
    c    [3.]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">explicit</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Implicit Output(s) in &#x27;model&#x27;
-------------------------------

varname    value
---------  -----
top
  sub
    comp2
      x    [3.] 
    comp3
      x    [3.]</pre></div></div></div>
<div class="section" id="get-list-via-return-value">
<h3><em>Get List via Return Value</em><a class="headerlink" href="#get-list-via-return-value" title="Permalink to this headline">¶</a></h3>
<p>Both of these methods also return the information in the form of a list.
You can disable the display of the information by setting the argument <code class="code docutils literal notranslate"><span class="pre">out_stream</span></code>
to <code class="code docutils literal notranslate"><span class="pre">None</span></code> and then access the data instead via the return value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># list inputs</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">out_stream</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">inputs</span><span class="p">))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[(&#x27;sub.comp2.a&#x27;, {&#x27;value&#x27;: array([1.])}), (&#x27;sub.comp2.b&#x27;, {&#x27;value&#x27;: array([-4.])}), (&#x27;sub.comp2.c&#x27;, {&#x27;value&#x27;: array([3.])}), (&#x27;sub.comp3.a&#x27;, {&#x27;value&#x27;: array([1.])}), (&#x27;sub.comp3.b&#x27;, {&#x27;value&#x27;: array([-4.])}), (&#x27;sub.comp3.c&#x27;, {&#x27;value&#x27;: array([3.])})]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># list explicit outputs</span>
<span class="n">outputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">out_stream</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">outputs</span><span class="p">))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[(&#x27;comp1.a&#x27;, {&#x27;value&#x27;: array([1.])}), (&#x27;comp1.b&#x27;, {&#x27;value&#x27;: array([-4.])}), (&#x27;comp1.c&#x27;, {&#x27;value&#x27;: array([3.])})]</pre></div></div></div>
<div class="section" id="list-names-only">
<h3><em>List Names Only</em><a class="headerlink" href="#list-names-only" title="Permalink to this headline">¶</a></h3>
<p>If you just need the names of the variables, you can disable the
display of the values by setting the optional argument, <code class="code docutils literal notranslate"><span class="pre">values</span></code>, to <cite>False</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># list inputs</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>6 Input(s) in &#x27;model&#x27;
---------------------

varname  
---------
top
  sub
    comp2
      a  
      b  
      c  
    comp3
      a  
      b  
      c</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># list only explicit outputs</span>
<span class="n">outputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname
-------
top
  comp1
    a  
    b  
    c</pre></div></div></div>
<div class="section" id="list-names-and-promoted-name">
<h3><em>List Names and Promoted Name</em><a class="headerlink" href="#list-names-and-promoted-name" title="Permalink to this headline">¶</a></h3>
<p>If you want the names of the variables and their promoted name within the model,
you can enable the display of promoted names by setting the optional argument,
<code class="code docutils literal notranslate"><span class="pre">prom_name</span></code>, to <cite>True</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">prom_name</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value  prom_name
-------  -----  ---------
top
  comp1
    a    [1.]   comp1.a  
    b    [-4.]  comp1.b  
    c    [3.]   comp1.c  


2 Implicit Output(s) in &#x27;model&#x27;
-------------------------------

varname    value  prom_name  
---------  -----  -----------
top
  sub
    comp2
      x    [3.]   sub.comp2.x
    comp3
      x    [3.]   sub.comp3.x</pre></div></div></div>
<div class="section" id="list-variables-filtered-by-tags">
<h3><em>List Variables Filtered by Tags</em><a class="headerlink" href="#list-variables-filtered-by-tags" title="Permalink to this headline">¶</a></h3>
<p>When you add inputs and outputs to components, you can optionally set tags on the variables. These tags can then be
used to filter what variables are printed and returned by the <code class="code docutils literal notranslate"><span class="pre">System.list_inputs</span></code> and <code class="code docutils literal notranslate"><span class="pre">System.list_outputs</span></code>
methods. Each of those methods has an optional argument <code class="code docutils literal notranslate"><span class="pre">tags</span></code> for that purpose.</p>
<p>Here is a simple example to show you how this works. Imagine that a model-builder builds a model with some set of
variables they expect other non-model-builder users to vary. They want to classify the inputs into
two sets: “beginner” and “advanced”. The model-builder would like to write some functions that query the model
for the set of <cite>beginner</cite> and <cite>advanced</cite> inputs and do some stuff with those lists (like make fancy formatted outputs or something).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>

<span class="k">class</span> <span class="nc">ActuatorDiscWithTags</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">ExplicitComponent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Simple wind turbine model based on actuator disc theory&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># Inputs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Induced Velocity Factor&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m**2&quot;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Rotor disc area&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;basic&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="mf">1.225</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;kg/m**3&quot;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;air density&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;Vu&#39;</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m/s&quot;</span><span class="p">,</span>
                       <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Freestream air velocity, upstream of rotor&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;basic&quot;</span><span class="p">)</span>

        <span class="c1"># Outputs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Vr&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m/s&quot;</span><span class="p">,</span>
                        <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Air velocity at rotor exit plane&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Vd&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m/s&quot;</span><span class="p">,</span>
                        <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Slipstream air velocity, downstream of rotor&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Ct&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Thrust Coefficient&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;N&quot;</span><span class="p">,</span>
                        <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Thrust produced by the rotor&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Cp&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Power Coefficient&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;W&quot;</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Power produced by the rotor&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;Vr&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;Vd&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;Ct&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;Cp&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declare_partials</span><span class="p">(</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Considering the entire rotor as a single disc that extracts</span>
<span class="sd">        velocity uniformly from the incoming flow and converts it to</span>
<span class="sd">        power.&quot;&quot;&quot;</span>

        <span class="n">a</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">Vu</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;Vu&#39;</span><span class="p">]</span>

        <span class="n">qA</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span> <span class="o">*</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">Vu</span> <span class="o">**</span> <span class="mi">2</span>

        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;Vd&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Vd</span> <span class="o">=</span> <span class="n">Vu</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;Vr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="n">Vu</span> <span class="o">+</span> <span class="n">Vd</span><span class="p">)</span>

        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;Ct&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ct</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;thrust&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Ct</span> <span class="o">*</span> <span class="n">qA</span>

        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;Cp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cp</span> <span class="o">=</span> <span class="n">Ct</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cp</span> <span class="o">*</span> <span class="n">qA</span> <span class="o">*</span> <span class="n">Vu</span>

    <span class="k">def</span> <span class="nf">compute_partials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">J</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Jacobian of partial derivatives.&quot;&quot;&quot;</span>

        <span class="n">a</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">Vu</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;Vu&#39;</span><span class="p">]</span>
        <span class="n">Area</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span>

        <span class="c1"># pre-compute commonly needed quantities</span>
        <span class="n">a_times_area</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">Area</span>
        <span class="n">one_minus_a</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">a</span>
        <span class="n">a_area_rho_vu</span> <span class="o">=</span> <span class="n">a_times_area</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">Vu</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Vr&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Vu</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Vr&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">one_minus_a</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Vd&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">Vu</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Ct&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">-</span> <span class="mf">8.0</span> <span class="o">*</span> <span class="n">a</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">Area</span> <span class="o">*</span> <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Ct&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="s1">&#39;Area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">one_minus_a</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">a_times_area</span> <span class="o">*</span> <span class="n">Vu</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">one_minus_a</span><span class="p">)</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;thrust&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">*</span> <span class="n">a_area_rho_vu</span> <span class="o">*</span> <span class="p">(</span><span class="n">one_minus_a</span><span class="p">)</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;Cp&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">a</span> <span class="o">-</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">one_minus_a</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>

        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">Area</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="p">(</span>
        <span class="mf">2.0</span> <span class="o">*</span> <span class="n">a</span> <span class="o">-</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">Area</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">one_minus_a</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;Area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">one_minus_a</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">a_times_area</span> <span class="o">*</span> <span class="n">Vu</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">one_minus_a</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">J</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">6.0</span> <span class="o">*</span> <span class="n">Area</span> <span class="o">*</span> <span class="n">Vu</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">one_minus_a</span><span class="o">**</span><span class="mi">2</span>


<span class="c1"># build the model</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">()</span>
<span class="n">indeps</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;indeps&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">(),</span> <span class="n">promotes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">])</span>
<span class="n">indeps</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
<span class="n">indeps</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;m**2&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;basic&quot;</span><span class="p">)</span>
<span class="n">indeps</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="mf">1.225</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;kg/m**3&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">)</span>
<span class="n">indeps</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;Vu&#39;</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;m/s&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;basic&quot;</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;a_disk&#39;</span><span class="p">,</span> <span class="n">ActuatorDiscWithTags</span><span class="p">(),</span>
                        <span class="n">promotes_inputs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;Vu&#39;</span><span class="p">])</span>

<span class="c1"># setup the optimization</span>
<span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;optimizer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;SLSQP&#39;</span>

<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="c1"># negative one so we maximize the objective</span>
<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;a_disk.Cp&#39;</span><span class="p">,</span> <span class="n">scaler</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>Optimization terminated successfully.    (Exit mode 0)
            Current function value: -0.5925925906659251
            Iterations: 5
            Function evaluations: 6
            Gradient evaluations: 5
Optimization Complete
-----------------------------------</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Input(s) in &#x27;model&#x27;
---------------------

varname   value  units  shape
--------  -----  -----  -----
top
  a_disk
    Area  [1.]   m**2   (1,) 
    Vu    [10.]  m/s    (1,)</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span><span class="s1">&#39;advanced&#39;</span><span class="p">],</span> <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>4 Input(s) in &#x27;model&#x27;
---------------------

varname   value         units    shape
--------  ------------  -------  -----
top
  a_disk
    a     [0.33335528]  None     (1,) 
    Area  [1.]          m**2     (1,) 
    rho   [1.225]       kg/m**3  (1,) 
    Vu    [10.]         m/s      (1,)</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname   value
--------  -----
top
  indeps
    Area  [1.] 
    Vu    [10.]


0 Implicit Output(s) in &#x27;model&#x27;
-------------------------------</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span><span class="s1">&#39;advanced&#39;</span><span class="p">],</span> <span class="n">units</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>4 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname   value       
--------  ------------
top
  indeps
    a     [0.33335528]
    Area  [1.]        
    rho   [1.225]     
    Vu    [10.]       


0 Implicit Output(s) in &#x27;model&#x27;
-------------------------------</pre></div></div><p>Notice that if you only have one tag, you can set the argument <code class="code docutils literal notranslate"><span class="pre">tags</span></code> to a string. If you have
more than one tag, you use a list of strings.</p>
<p>This example showed how to add tags when using the <code class="code docutils literal notranslate"><span class="pre">add_input</span></code> and <code class="code docutils literal notranslate"><span class="pre">add_output</span></code> methods. You can also
add tags to <code class="code docutils literal notranslate"><span class="pre">IndepVarComp</span></code> and <code class="code docutils literal notranslate"><span class="pre">ExecComp</span></code> Components using code like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comp</span> <span class="o">=</span> <span class="n">IndepVarComp</span><span class="p">(</span><span class="s1">&#39;indep_var&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s1">&#39;tag1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ec</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ExecComp</span><span class="p">(</span><span class="s1">&#39;y=x+z+1.&#39;</span><span class="p">,</span>
                  <span class="n">x</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="s1">&#39;tagx&#39;</span><span class="p">},</span>
                  <span class="n">y</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;tagy&#39;</span><span class="p">,</span><span class="s1">&#39;tagm&#39;</span><span class="p">]},</span>
                  <span class="n">z</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="s1">&#39;tagz&#39;</span><span class="p">},</span>
                  <span class="p">))</span>
</pre></div>
</div>
<p>Note that outputs of <code class="code docutils literal notranslate"><span class="pre">IndepVarComp</span></code> are always tagged with <code class="code docutils literal notranslate"><span class="pre">indep_var_comp</span></code>.</p>
</div>
<div class="section" id="list-residuals-above-a-tolerance">
<h3><em>List Residuals Above a Tolerance</em><a class="headerlink" href="#list-residuals-above-a-tolerance" title="Permalink to this headline">¶</a></h3>
<p>In some cases, it might be convenient to only list variables whose residuals above a given tolerance. The
<code class="code docutils literal notranslate"><span class="pre">System.list_outputs</span></code> method provides an optional argument, <code class="code docutils literal notranslate"><span class="pre">residuals_tol</span></code> for this purpose.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar</span> <span class="kn">import</span> <span class="n">SellarImplicitDis1</span><span class="p">,</span> <span class="n">SellarImplicitDis2</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>

<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="n">SellarImplicitDis1</span><span class="p">())</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="n">SellarImplicitDis2</span><span class="p">())</span>
<span class="n">model</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;d1.y1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2.y1&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;d2.y2&#39;</span><span class="p">,</span> <span class="s1">&#39;d1.y2&#39;</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">nonlinear_solver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">NewtonSolver</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">nonlinear_solver</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;maxiter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">model</span><span class="o">.</span><span class="n">linear_solver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyKrylov</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">linear_solver</span><span class="o">.</span><span class="n">precon</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">LinearBlockGS</span><span class="p">()</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="n">level</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">run_model</span><span class="p">()</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">residuals_tol</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">residuals</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>0 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

1 Implicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value         resids     
-------  ------------  -----------
top
  d2
    y2   [0.23238004]  [0.0167883]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[(&#x27;d2.y2&#x27;, {&#x27;value&#x27;: array([0.23238004]), &#x27;resids&#x27;: array([0.0167883])})]</pre></div></div></div>
<div class="section" id="list-additional-variable-metadata">
<h3><em>List Additional Variable Metadata</em><a class="headerlink" href="#list-additional-variable-metadata" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_outputs()</span></code> method has many options to also display units, shape, bounds (lower and upper), and
scaling (res, res0, and res_ref) for the variables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>

<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>

<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span>
                                          <span class="n">lower</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
                                          <span class="n">ref</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">ref0</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span>
                                          <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inch&#39;</span><span class="p">,</span>
                                          <span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;p2&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>
                                          <span class="n">lower</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">200.0</span><span class="p">,</span>
                                          <span class="n">ref</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">res_ref</span><span class="o">=</span><span class="mf">2.2</span><span class="p">,</span>
                                          <span class="n">units</span><span class="o">=</span><span class="s1">&#39;ft&#39;</span><span class="p">,</span>
                                          <span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;comp&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">ExecComp</span><span class="p">(</span><span class="s1">&#39;z=x+y&#39;</span><span class="p">,</span>
                                        <span class="n">x</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;inch&#39;</span><span class="p">},</span>
                                        <span class="n">y</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;inch&#39;</span><span class="p">},</span>
                                        <span class="n">z</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;inch&#39;</span><span class="p">}))</span>
<span class="n">model</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;p1.x&#39;</span><span class="p">,</span> <span class="s1">&#39;comp.x&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;p2.y&#39;</span><span class="p">,</span> <span class="s1">&#39;comp.y&#39;</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">set_solver_print</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_model</span><span class="p">()</span>

<span class="n">inputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Input(s) in &#x27;model&#x27;
---------------------

varname  value  units
-------  -----  -----
top
  comp
    x    [12.]  inch 
    y    [12.]  inch</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[(&#x27;comp.x&#x27;, {&#x27;value&#x27;: array([12.]), &#x27;units&#x27;: &#x27;inch&#x27;}), (&#x27;comp.y&#x27;, {&#x27;value&#x27;: array([12.]), &#x27;units&#x27;: &#x27;inch&#x27;})]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                  <span class="n">values</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">bounds</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">residuals</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">scaling</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">hierarchical</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                  <span class="n">print_arrays</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value  resids  units  shape  lower  upper   ref  ref0  res_ref
-------  -----  ------  -----  -----  -----  ------  ---  ----  -------
p1.x     [12.]  [0.]    inch   (1,)   [1.]   [100.]  1.1  2.1   1.1    
p2.y     [1.]   [0.]    ft     (1,)   [2.]   [200.]  1.2  0.0   2.2    
comp.z   [24.]  [0.]    inch   (1,)   None   None    1.0  0.0   1.0</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">outputs</span><span class="p">))</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>[(&#x27;comp.z&#x27;, {&#x27;value&#x27;: array([24.]), &#x27;resids&#x27;: array([0.]), &#x27;units&#x27;: &#x27;inch&#x27;, &#x27;shape&#x27;: (1,), &#x27;lower&#x27;: None, &#x27;upper&#x27;: None, &#x27;ref&#x27;: 1.0, &#x27;ref0&#x27;: 0.0, &#x27;res_ref&#x27;: 1.0}), (&#x27;p1.x&#x27;, {&#x27;value&#x27;: array([12.]), &#x27;resids&#x27;: array([0.]), &#x27;units&#x27;: &#x27;inch&#x27;, &#x27;shape&#x27;: (1,), &#x27;lower&#x27;: array([1.]), &#x27;upper&#x27;: array([100.]), &#x27;ref&#x27;: 1.1, &#x27;ref0&#x27;: 2.1, &#x27;res_ref&#x27;: 1.1}), (&#x27;p2.y&#x27;, {&#x27;value&#x27;: array([1.]), &#x27;resids&#x27;: array([0.]), &#x27;units&#x27;: &#x27;ft&#x27;, &#x27;shape&#x27;: (1,), &#x27;lower&#x27;: array([2.]), &#x27;upper&#x27;: array([200.]), &#x27;ref&#x27;: 1.2, &#x27;ref0&#x27;: 0.0, &#x27;res_ref&#x27;: 2.2})]</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                  <span class="n">values</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">bounds</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">residuals</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">scaling</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">hierarchical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                  <span class="n">print_arrays</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>3 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname  value  resids  units  shape  lower  upper   ref  ref0  res_ref
-------  -----  ------  -----  -----  -----  ------  ---  ----  -------
top
  p1
    x    [12.]  [0.]    inch   (1,)   [1.]   [100.]  1.1  2.1   1.1    
  p2
    y    [1.]   [0.]    ft     (1,)   [2.]   [200.]  1.2  0.0   2.2    
  comp
    z    [24.]  [0.]    inch   (1,)   None   None    1.0  0.0   1.0</pre></div></div></div>
<div class="section" id="print-array-values">
<h3><em>Print Array Values</em><a class="headerlink" href="#print-array-values" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">list_inputs()</span></code> and <code class="code docutils literal notranslate"><span class="pre">list_outputs()</span></code> methods both have a <code class="code docutils literal notranslate"><span class="pre">print_arrays</span></code> option.
By default, this option is set to False and only the norm of the array will appear in the tabular display.
The norm value is surrounded by vertical bars to indicate that it is a norm.
When the option is set to True, the complete value of the array will also be a displayed below the row.
The format is affected by the values set with <code class="code docutils literal notranslate"><span class="pre">numpy.set_printoptions</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.utils.general_utils</span> <span class="kn">import</span> <span class="n">printoptions</span>

<span class="k">class</span> <span class="nc">ArrayAdder</span><span class="p">(</span><span class="n">om</span><span class="o">.</span><span class="n">ExplicitComponent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Just a simple component that has array inputs and outputs</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ArrayAdder</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inch&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;ft&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">):</span>
        <span class="n">outputs</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mf">10.0</span>

<span class="n">size</span> <span class="o">=</span> <span class="mi">30</span>

<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;des_vars&#39;</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">IndepVarComp</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">size</span><span class="p">),</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;inch&#39;</span><span class="p">),</span>
                         <span class="n">promotes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">add_subsystem</span><span class="p">(</span><span class="s1">&#39;mult&#39;</span><span class="p">,</span> <span class="n">ArrayAdder</span><span class="p">(</span><span class="n">size</span><span class="p">),</span> <span class="n">promotes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>

<span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_inputs</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                       <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                       <span class="n">hierarchical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                       <span class="n">print_arrays</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>1 Input(s) in &#x27;model&#x27;
---------------------

varname  value                units
-------  -------------------  -----
top
  mult
    x    |92.49324299644812|  inch 
         value:
         array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12.,
                13., 14., 15., 16., 17., 18., 19., 20., 21., 22., 23., 24., 25.,
                26., 27., 28., 29.])</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">printoptions</span><span class="p">(</span><span class="n">edgeitems</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">infstr</span><span class="o">=</span><span class="s1">&#39;inf&#39;</span><span class="p">,</span>
                  <span class="n">linewidth</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span> <span class="n">nanstr</span><span class="o">=</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                  <span class="n">suppress</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">formatter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>

    <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">bounds</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">residuals</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">scaling</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">hierarchical</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">print_arrays</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname     value                 resids  units  shape  lower  upper  ref  ref0  res_ref
----------  --------------------  ------  -----  -----  -----  -----  ---  ----  -------
des_vars.x  |92.49324299644812|   |0.0|   inch   (30,)  None   None   1.0  0.0   1.0    
            value:
            array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12.,
                   13., 14., 15., 16., 17., 18., 19., 20., 21., 22., 23., 24., 25.,
                   26., 27., 28., 29.])
            resids:
            array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
                   0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])
mult.y      |142.32006183247674|  |0.0|   ft     (30,)  None   None   1.0  0.0   1.0    
            value:
            array([10., 11., 12., 13., 14., 15., 16., 17., 18., 19., 20., 21., 22.,
                   23., 24., 25., 26., 27., 28., 29., 30., 31., 32., 33., 34., 35.,
                   36., 37., 38., 39.])
            resids:
            array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
                   0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">prob</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">implicit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">units</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">shape</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">bounds</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">residuals</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">scaling</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">hierarchical</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">print_arrays</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>2 Explicit Output(s) in &#x27;model&#x27;
-------------------------------

varname     value                 resids  units  shape  lower  upper  ref  ref0  res_ref
----------  --------------------  ------  -----  -----  -----  -----  ---  ----  -------
top
  des_vars
    x       |92.49324299644812|   |0.0|   inch   (30,)  None   None   1.0  0.0   1.0    
            value:
            array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12.,
                   13., 14., 15., 16., 17., 18., 19., 20., 21., 22., 23., 24., 25.,
                   26., 27., 28., 29.])
            resids:
            array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
                   0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])
  mult
    y       |142.32006183247674|  |0.0|   ft     (30,)  None   None   1.0  0.0   1.0    
            value:
            array([10., 11., 12., 13., 14., 15., 16., 17., 18., 19., 20., 21., 22.,
                   23., 24., 25., 26., 27., 28., 29., 30., 31., 32., 33., 34., 35.,
                   36., 37., 38., 39.])
            resids:
            array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
                   0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</pre></div></div></div>
<div class="section" id="listing-problem-variables">
<h3><em>Listing Problem Variables</em><a class="headerlink" href="#listing-problem-variables" title="Permalink to this headline">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">Problem</span></code> has a method <code class="code docutils literal notranslate"><span class="pre">list_problem_vars</span></code> which prints out the values and metadata for design,
constraint, and objective variables.</p>
<dl class="method">
<dt>
<code class="descclassname">Problem.</code><code class="descname">list_problem_vars</code><span class="sig-paren">(</span><em>show_promoted_name=True</em>, <em>print_arrays=False</em>, <em>desvar_opts=[]</em>, <em>cons_opts=[]</em>, <em>objs_opts=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openmdao/core/problem.html#Problem.list_problem_vars"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Print all design variables and responses (objectives and constraints).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>show_promoted_name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If True, then show the promoted names of the variables.</p>
</dd>
<dt><strong>print_arrays</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">When False, in the columnar display, just display norm of any ndarrays with size &gt; 1.
The norm is surrounded by vertical bars to indicate that it is a norm.
When True, also display full values of the ndarray below the row. Format is affected
by the values set with numpy.set_printoptions
Default is False.</p>
</dd>
<dt><strong>desvar_opts</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of str</span></dt>
<dd><p class="first last">List of optional columns to be displayed in the desvars table.
Allowed values are:
[‘lower’, ‘upper’, ‘ref’, ‘ref0’, ‘indices’, ‘adder’, ‘scaler’, ‘parallel_deriv_color’,
‘vectorize_derivs’, ‘cache_linear_solution’]</p>
</dd>
<dt><strong>cons_opts</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of str</span></dt>
<dd><p class="first last">List of optional columns to be displayed in the cons table.
Allowed values are:
[‘lower’, ‘upper’, ‘equals’, ‘ref’, ‘ref0’, ‘indices’, ‘index’, ‘adder’, ‘scaler’,
‘linear’, ‘parallel_deriv_color’, ‘vectorize_derivs’,
‘cache_linear_solution’]</p>
</dd>
<dt><strong>objs_opts</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of str</span></dt>
<dd><p class="first last">List of optional columns to be displayed in the objs table.
Allowed values are:
[‘ref’, ‘ref0’, ‘indices’, ‘adder’, ‘scaler’,
‘parallel_deriv_color’, ‘vectorize_derivs’, ‘cache_linear_solution’]</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>You can optionally print out a variety of metadata. In this example, all the metadata is printed. The
<code class="code docutils literal notranslate"><span class="pre">print_arrays</span></code> option is also set to true so that full array values are printed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">openmdao.api</span> <span class="kn">as</span> <span class="nn">om</span>
<span class="kn">from</span> <span class="nn">openmdao.test_suite.components.sellar</span> <span class="kn">import</span> <span class="n">SellarDerivatives</span>

<span class="n">prob</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">SellarDerivatives</span><span class="p">())</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">model</span>
<span class="n">model</span><span class="o">.</span><span class="n">nonlinear_solver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">NonlinearBlockGS</span><span class="p">()</span>

<span class="n">prob</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">ScipyOptimizeDriver</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;optimizer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;SLSQP&#39;</span>
<span class="n">prob</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;tol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1e-9</span>

<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span> <span class="n">upper</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_design_var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;obj&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con1&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s1">&#39;con2&#39;</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">prob</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">prob</span><span class="o">.</span><span class="n">run_driver</span><span class="p">()</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>NL: NLBGS Converged in 7 iterations
NL: NLBGS Converged in 0 iterations
NL: NLBGS Converged in 8 iterations
NL: NLBGS Converged in 9 iterations
NL: NLBGS Converged in 9 iterations
NL: NLBGS Converged in 8 iterations
NL: NLBGS Converged in 5 iterations
Optimization terminated successfully.    (Exit mode 0)
            Current function value: 3.1833939517234966
            Iterations: 6
            Function evaluations: 6
            Gradient evaluations: 6
Optimization Complete
-----------------------------------</pre></div></div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="o">.</span><span class="n">list_problem_vars</span><span class="p">(</span><span class="n">print_arrays</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                       <span class="n">desvar_opts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="s1">&#39;ref&#39;</span><span class="p">,</span> <span class="s1">&#39;ref0&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;indices&#39;</span><span class="p">,</span> <span class="s1">&#39;adder&#39;</span><span class="p">,</span> <span class="s1">&#39;scaler&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;parallel_deriv_color&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;vectorize_derivs&#39;</span><span class="p">],</span>
                       <span class="n">cons_opts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="s1">&#39;equals&#39;</span><span class="p">,</span> <span class="s1">&#39;ref&#39;</span><span class="p">,</span> <span class="s1">&#39;ref0&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;indices&#39;</span><span class="p">,</span> <span class="s1">&#39;adder&#39;</span><span class="p">,</span> <span class="s1">&#39;scaler&#39;</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">],</span>
                       <span class="n">objs_opts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">,</span> <span class="s1">&#39;ref0&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;indices&#39;</span><span class="p">,</span> <span class="s1">&#39;adder&#39;</span><span class="p">,</span> <span class="s1">&#39;scaler&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;parallel_deriv_color&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;vectorize_derivs&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;cache_linear_solution&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="cell border-box-sizing code_cell rendered"><div class="output_area"><pre>----------------
Design Variables
----------------
name  value                 size  lower   upper                 ref   ref0  indices  adder  scaler  parallel_deriv_color  vectorize_derivs  
----  --------------------  ----  ------  --------------------  ----  ----  -------  -----  ------  --------------------  ---------------- 
pz.z  |1.9776388834861502|  2     |10.0|  |14.142135623730951|  None  None  None     None   None    None                  False             
      value:
      array([1.97763888e+00, 3.82375769e-15])

      lower:
      array([-10.,   0.])

      upper:
      array([10., 10.])

px.x  [0.]                  1     0.0     10.0                  None  None  None     None   None    None                  False             

-----------
Constraints
-----------
name           value              size  lower   upper  equals  ref   ref0  indices  adder  scaler  linear  
-------------  -----------------  ----  ------  -----  ------  ----  ----  -------  -----  ------  ------ 
con_cmp1.con1  [-8.39701642e-11]  1     -1e+30  0.0    None    None  None  None     None   None    False   
con_cmp2.con2  [-20.24472223]     1     -1e+30  0.0    None    None  None  None     None   None    False   

----------
Objectives
----------
name         value         size  ref   ref0  indices  adder  scaler  parallel_deriv_color  vectorize_derivs  cache_linear_solution  
-----------  ------------  ----  ----  ----  -------  -----  ------  --------------------  ----------------  --------------------- 
obj_cmp.obj  [3.18339395]  1     None  None  None     None   None    None                  False             False</pre></div></div></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="debugging_drivers.html" title="Driver Debug Printing"
             >next</a> |</li>
        <li class="right" >
          <a href="newton_solver_not_converging.html" title="The Newton Solver Isn’t Converging"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenMDAO 2.8.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Features</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Debugging</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, openmdao.org.
      Last updated on Aug 08, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>